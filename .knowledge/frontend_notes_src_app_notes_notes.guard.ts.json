{"is_source_file": true, "format": "TypeScript", "description": "This file defines an Angular route guard (AuthGuard) that protects routes by verifying user authentication status via Supabase service.", "external_files": ["../core/supabase.service", "@angular/core", "@angular/router", "rxjs"], "external_methods": ["SupabaseService.getUser", "Router.navigate", "firstValueFrom"], "published": ["AuthGuard"], "classes": [{"name": "AuthGuard", "description": "An Angular route guard implementing CanActivate to protect routes based on user's authentication status using Supabase."}], "methods": [{"name": "async canActivate(): Promise<boolean> { canActivate", "description": "Checks if the user is authenticated; redirects to login if not, otherwise allows access.", "scope": "AuthGuard", "scopeKind": "class"}, {"name": "constructor(supabase: SupabaseService, router: Router) { constructor", "scope": "AuthGuard", "scopeKind": "class", "description": "unavailable"}], "calls": ["this.supabase.getUser", "this.router.navigate(['/auth/login'])", "firstValueFrom"], "search-terms": ["Angular route guard", "AuthGuard", "Supabase authentication", "CanActivate", "typescript route guard"], "state": 2, "file_id": 39, "knowledge_revision": 112, "git_revision": "", "revision_history": [{"80": ""}, {"94": ""}, {"105": ""}, {"112": ""}], "ctags": [{"_type": "tag", "name": "AuthGuard", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-f3e8b792/frontend_notes/src/app/notes/notes.guard.ts", "pattern": "/^export class AuthGuard implements CanActivate {$/", "language": "TypeScript", "kind": "class"}, {"_type": "tag", "name": "canActivate", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-f3e8b792/frontend_notes/src/app/notes/notes.guard.ts", "pattern": "/^  async canActivate(): Promise<boolean> {$/", "language": "TypeScript", "kind": "method", "scope": "AuthGuard", "scopeKind": "class"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-f3e8b792/frontend_notes/src/app/notes/notes.guard.ts", "pattern": "/^  constructor(supabase: SupabaseService, router: Router) {$/", "language": "TypeScript", "kind": "method", "scope": "AuthGuard", "scopeKind": "class"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-f3e8b792/frontend_notes/src/app/notes/notes.guard.ts", "pattern": "/^  private router: Router;$/", "language": "TypeScript", "kind": "property", "scope": "AuthGuard", "scopeKind": "class"}, {"_type": "tag", "name": "supabase", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-f3e8b792/frontend_notes/src/app/notes/notes.guard.ts", "pattern": "/^  private supabase: SupabaseService;$/", "language": "TypeScript", "kind": "property", "scope": "AuthGuard", "scopeKind": "class"}, {"_type": "tag", "name": "user", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-f3e8b792/frontend_notes/src/app/notes/notes.guard.ts", "pattern": "/^    const user = await firstValueFrom(this.supabase.getUser());$/", "language": "TypeScript", "kind": "constant", "scope": "AuthGuard.canActivate", "scopeKind": "method"}], "hash": "ae7a287458aa4b05ac49b0d7759bdb05", "format-version": 4, "code-base-name": "frontend_notes", "filename": "frontend_notes/src/app/notes/notes.guard.ts", "fields": [{"name": "private router: Router;", "scope": "AuthGuard", "scopeKind": "class", "description": "unavailable"}, {"name": "private supabase: SupabaseService;", "scope": "AuthGuard", "scopeKind": "class", "description": "unavailable"}]}